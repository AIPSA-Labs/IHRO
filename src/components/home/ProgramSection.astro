---
import { translations } from "../../locals/home/program";

// Lucide Icons
import { Users, BookOpen, Globe, Shield, Heart } from "@lucide/astro";

type Locale = 'en' | 'hi' | 'fr';
const { local = 'en' } = Astro.params ?? {};
const t = translations[local as Locale] || translations['en'];

// Map icon names to Lucide components
const iconMap = {
  Advocacy: Users,
  "Legal Aid": Shield,
  "Education & Research": BookOpen,
  "Environmental Protection": Globe,
  "Community Engagement": Heart,
  "Human Rights Support": Shield,
};
---

<section class="bg-background py-20 px-4 md:px-10">
  <div class="max-w-6xl mx-auto text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-extrabold mb-4">{t.title}</h2>
    <p class="text-lg md:text-xl text-foreground/80">{t.subtitle}</p>
  </div>

  <div class="grid gap-8 md:grid-cols-3 max-w-6xl mx-auto">
    {t.programs.map((program) => {
      const Icon = iconMap[program.title as keyof typeof iconMap] || Users;
      return (
        <div class="bg-surface rounded-xl shadow-md p-6 flex flex-col items-center text-center hover:shadow-xl transition">
          <Icon class="w-12 h-12 mb-4 text-primary" />
          <h3 class="text-xl font-semibold mb-2">{program.title}</h3>
          <p class="text-foreground/80">{program.description}</p>
        </div>
      );
    })}
  </div>
</section>
