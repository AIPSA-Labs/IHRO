
---
import { translations } from "../../locals/home/hero";

type Locale = "en" | "hi" | "fr";
const { local = "en" } = Astro.params ?? {};
const t = translations[local as Locale] || translations["en"];
---

<section class="relative w-full">

  <div id="carousel" class="absolute inset-0 w-full h-full">
    <img
      src="https://images.pexels.com/photos/8553543/pexels-photo-8553543.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-100 transition-opacity duration-[2000ms]"
    />
    <img
      src="https://images.pexels.com/photos/8203110/pexels-photo-8203110.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-[2000ms]"
    />
    <img
      src="https://images.pexels.com/photos/10617692/pexels-photo-10617692.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-[2000ms]"
    />
  </div>

  <!-- Black Overlay -->
  <div class="absolute inset-0 bg-black/60 pointer-events-none"></div>

  <!-- Content (FULL SCREEN HEIGHT) -->
  <div class="relative lg:w-1/2 z-10 flex flex-col justify-center text-white px-6 h-screen">
    <h1 class="text-2xl md:text-4xl font-extrabold mb-4 drop-shadow-xl">
      {t.title}
    </h1>

    <p class="text-lg md:text-2xl max-w-2xl mb-8 opacity-90 drop-shadow">
      {t.subtitle}
    </p>

    <a
      href="/campaigns"
      class="bg-primary w-1/2 text-center text-primary-foreground px-8 py-3 rounded-lg font-semibold hover:bg-primary/90 transition shadow-lg"
    >
      {t.cta}
    </a>
  </div>

  <!-- Fade-out bottom transition -->
<div class="relative w-full h-40 md:h-60">
  <div
    class="absolute inset-x-0 bottom-0 h-full 
           bg-gradient-to-b from-transparent via-background/50 to-background"
  ></div>
</div>

</section>

<style>
  .carousel-img {
    @apply transition-opacity duration-[2000ms];
  }
</style>

<script>
  const slides = document.querySelectorAll(".carousel-img");
  let current = 0;

  setInterval(() => {
    // @ts-ignore
    slides[current].style.opacity = 0;
    current = (current + 1) % slides.length;
    // @ts-ignore
    slides[current].style.opacity = 1;
  }, 6000);
</script>
