---
import { translations } from "../../locals/home/hero";

type Locale = "en" | "hi" | "fr";
const { local = "en" } = Astro.params ?? {};
const t = translations[local as Locale] || translations["en"];
---

<section class="relative w-full h-screen overflow-hidden">

  <!-- Background Carousel Images -->
  <div id="carousel" class="absolute inset-0 w-full h-full">
    <img
      src="https://images.pexels.com/photos/8553543/pexels-photo-8553543.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-100 transition-opacity duration-[2000ms]"
    />
    <img
      src="https://images.pexels.com/photos/8203110/pexels-photo-8203110.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-[2000ms]"
    />
    <img
      src="https://images.pexels.com/photos/10617692/pexels-photo-10617692.jpeg"
      class="carousel-img absolute inset-0 w-full h-full object-cover opacity-0 transition-opacity duration-[2000ms]"
    />
  </div>

  <!-- Black Overlay -->
  <div class="absolute inset-0 bg-black/60"></div>

  <!-- Center Content -->
  <div class="absolute lg:w-1/2 inset-0 flex flex-col justify-center px-6 z-10 text-white">
    <h1 class="text-2xl md:text-4xl font-extrabold mb-4">
      {t.title}
    </h1>

    <p class="text-lg md:text-2xl max-w-2xl mb-8 opacity-90">
      {t.subtitle}
    </p>

    <a
      href="/campaigns"
      class="bg-primary w-1/3 px-8 py-3 rounded-lg text-center font-semibold text-primary-foreground shadow-lg hover:bg-primary/90 transition"
    >
      {t.cta}
    </a>
  </div>
</section>

<script>
  const slides = document.querySelectorAll(".carousel-img");
  let current = 0;

  setInterval(() => {
    // @ts-ignore
    slides[current].style.opacity = 0;
    current = (current + 1) % slides.length;
    // @ts-ignore
    slides[current].style.opacity = 1;
  }, 6000); // 6 seconds
</script>
